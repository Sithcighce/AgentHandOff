# Agent-Handoff ç»§ç»­å¼€å‘å»ºè®®

## ğŸ¯ å½“å‰çŠ¶æ€æ€»ç»“

**å¥½æ¶ˆæ¯**: Agent-Handoffçš„MVPç‰ˆæœ¬å·²ç»å®Œæˆï¼Œæ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½éƒ½èƒ½æ­£å¸¸å·¥ä½œï¼

**å‰è¾ˆçš„å·¥ä½œè¯„ä»·**: 
- âœ… æ¶æ„è®¾è®¡æ¸…æ™°åˆç†
- âœ… ä»£ç è´¨é‡è‰¯å¥½ï¼Œç¬¦åˆPythonæœ€ä½³å®è·µ  
- âœ… æ–‡æ¡£å®Œæ•´ï¼Œç”¨æˆ·ä½“éªŒå‹å¥½
- âœ… åŠŸèƒ½å®Œæ•´æ€§è¾¾åˆ°MVPè¦æ±‚

## ğŸš€ ç«‹å³å¯ä»¥è¿›è¡Œçš„æ”¹è¿› (ä¼˜å…ˆçº§é«˜)

### 1. å®Œå–„æµ‹è¯•è¦†ç›– (1-2å¤©)

```bash
# æ·»åŠ å¼€å‘ä¾èµ–
pip install pytest pytest-cov black mypy

# åˆ›å»ºå®Œæ•´æµ‹è¯•å¥—ä»¶
mkdir tests/unit tests/integration
```

**å…·ä½“ä»»åŠ¡**:
- [ ] ä¸ºæ¯ä¸ªMCPå·¥å…·ç¼–å†™å•å…ƒæµ‹è¯•
- [ ] æ·»åŠ å·¥ä½œæµçŠ¶æ€æœºæµ‹è¯•  
- [ ] åˆ›å»ºæ–‡ä»¶æ“ä½œå®‰å…¨æ€§æµ‹è¯•
- [ ] æ·»åŠ CLIå‘½ä»¤çš„é›†æˆæµ‹è¯•

### 2. IDEé›†æˆéªŒè¯ (åŠå¤©)

**åœ¨VSCodeä¸­æµ‹è¯•**:
- [ ] é…ç½®MCPæœåŠ¡å™¨
- [ ] ä½¿ç”¨Copilotè°ƒç”¨`start_work`å·¥å…·
- [ ] å®Œæˆä¸€ä¸ªå®Œæ•´çš„å·¥ä½œæµæµ‹è¯•
- [ ] éªŒè¯æ–‡æ¡£æ›´æ–°æœºåˆ¶

### 3. é”™è¯¯å¤„ç†å¢å¼º (1å¤©)

**æ”¹è¿›é”™è¯¯æç¤º**:
```python
# ä¾‹å¦‚ï¼šåœ¨server.pyä¸­æ·»åŠ æ›´è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯
{
  "error": {
    "code": "WORKFLOW_VIOLATION",
    "message": "å½“å‰çŠ¶æ€ä¸å…è®¸æ­¤æ“ä½œ",
    "suggestion": "è¯·å…ˆè°ƒç”¨ start_work å¼€å§‹æ–°ä»»åŠ¡",
    "current_state": "idle",
    "expected_actions": ["start_work"]
  }
}
```

## ğŸ› ï¸ ä¸­æœŸæ”¹è¿›è®¡åˆ’ (1-2å‘¨)

### 1. è¯­ä¹‰æœç´¢åŠŸèƒ½

```bash
pip install chromadb sentence-transformers
```

**å®ç°æ€è·¯**:
- åœ¨docs/ç›®å½•å˜æ›´æ—¶è‡ªåŠ¨å»ºç«‹å‘é‡ç´¢å¼•
- æä¾›`semantic_search`å·¥å…·ï¼Œæ”¯æŒè¯­ä¹‰ç›¸ä¼¼æ€§æœç´¢
- æ”¹è¿›`search_files`ï¼Œç»“åˆå…³é”®è¯å’Œè¯­ä¹‰æœç´¢

### 2. é…ç½®ç³»ç»Ÿå¢å¼º

**é…ç½®æ–‡ä»¶éªŒè¯**:
```yaml
# .agent-handoff/config.yaml å¢å¼ºç‰ˆ
project:
  name: "é¡¹ç›®åç§°"
  description: "é¡¹ç›®æè¿°" 
  
workflow:
  max_session_duration: 3600  # æœ€å¤§ä¼šè¯æ—¶é•¿(ç§’)
  auto_save_interval: 300     # è‡ªåŠ¨ä¿å­˜é—´éš”
  
docs:
  max_file_size: 1048576     # æœ€å¤§æ–‡ä»¶å¤§å°(1MB)
  allowed_extensions: [".md", ".txt"]
  
search:
  enable_semantic: false     # æ˜¯å¦å¯ç”¨è¯­ä¹‰æœç´¢
  index_update_interval: 60  # ç´¢å¼•æ›´æ–°é—´éš”
```

### 3. CLIåŠŸèƒ½æ‰©å±•

```bash
agent-handoff validate    # éªŒè¯é¡¹ç›®ç»“æ„å’Œé…ç½®
agent-handoff history     # æŸ¥çœ‹å†å²ä¼šè¯
agent-handoff clean       # æ¸…ç†ä¸´æ—¶æ–‡ä»¶
agent-handoff export      # å¯¼å‡ºé¡¹ç›®æ‘˜è¦
```

## ğŸŒ é•¿æœŸå‘å±•è®¡åˆ’ (1-3ä¸ªæœˆ)

### 1. VSCodeæ’ä»¶å¼€å‘

**åŠŸèƒ½ç‰¹æ€§**:
- å¯è§†åŒ–æ˜¾ç¤ºå½“å‰ä¼šè¯çŠ¶æ€
- æ–‡æ¡£å¥åº·åº¦é¢æ¿
- ä¸€é”®å¯åŠ¨/åœæ­¢MCPæœåŠ¡å™¨  
- ä¼šè¯å†å²æµè§ˆå™¨

### 2. å›¢é˜Ÿåä½œåŠŸèƒ½

**äº‘ç«¯åŒæ­¥**:
- æ”¯æŒGit hooksè‡ªåŠ¨åŒæ­¥agentreadme.md
- å¤šäººåä½œçš„å†²çªè§£å†³æœºåˆ¶
- å›¢é˜Ÿæˆå‘˜æƒé™ç®¡ç†

### 3. AIé›†æˆå¢å¼º

**Agentæ™ºèƒ½æç¤º**:
- æ ¹æ®é¡¹ç›®ç‰¹å¾æ¨èå·¥ä½œæµ
- è‡ªåŠ¨ç”Ÿæˆé¡¹ç›®æ¶æ„å»ºè®®
- æ™ºèƒ½ä»£ç å‡†åˆ™æ£€æŸ¥

## ğŸ§ª æµ‹è¯•ç­–ç•¥å»ºè®®

### å•å…ƒæµ‹è¯• (tests/unit/)

```python
# tests/unit/test_workflow.py
class TestWorkflow(unittest.TestCase):
    def test_start_work_creates_session(self):
        # æµ‹è¯•start_workåˆ›å»ºä¼šè¯
        pass
    
    def test_workflow_state_transitions(self):
        # æµ‹è¯•çŠ¶æ€è½¬æ¢
        pass

# tests/unit/test_file_ops.py  
class TestFileOps(unittest.TestCase):
    def test_safe_path_validation(self):
        # æµ‹è¯•è·¯å¾„å®‰å…¨æ£€æŸ¥
        pass
    
    def test_file_read_write_cycle(self):
        # æµ‹è¯•æ–‡ä»¶è¯»å†™å¾ªç¯
        pass
```

### é›†æˆæµ‹è¯• (tests/integration/)

```python
# tests/integration/test_end_to_end.py
class TestE2E(unittest.TestCase):
    def test_complete_workflow(self):
        # æ¨¡æ‹Ÿå®Œæ•´çš„Agentå·¥ä½œæµ
        pass
    
    def test_mcp_server_integration(self):
        # æµ‹è¯•MCPæœåŠ¡å™¨é›†æˆ
        pass
```

## ğŸ”§ ä»£ç è´¨é‡æ”¹è¿›

### 1. æ·»åŠ ç±»å‹æç¤º

```python
# åœ¨server.pyä¸­æ·»åŠ æ›´ä¸¥æ ¼çš„ç±»å‹æç¤º
from typing import Dict, List, Optional, Union, Any
from dataclasses import dataclass

@dataclass
class SessionState:
    session_id: str
    user_goal: str
    state: str
    plan: List[str]
    completed_steps: List[str]
    created_at: str
```

### 2. ä»£ç æ ¼å¼åŒ–é…ç½®

```toml
# pyproject.toml æ·»åŠ å·¥å…·é…ç½®
[tool.black]
line-length = 88
target-version = ['py310']

[tool.mypy]
python_version = "3.10"
warn_return_any = true
warn_unused_configs = true
disallow_untyped_defs = true

[tool.pytest.ini_options]
testpaths = ["tests"]
python_files = ["test_*.py"]
```

## ğŸ“š æ–‡æ¡£æ”¹è¿›

### 1. APIæ–‡æ¡£ç”Ÿæˆ

```bash
pip install sphinx sphinx-autodoc-typehints
sphinx-quickstart docs/api/
```

### 2. ç”¨æˆ·æŒ‡å—å®Œå–„

- [ ] å¿«é€Ÿå¼€å§‹æ•™ç¨‹ï¼ˆ15åˆ†é’Ÿä¸Šæ‰‹ï¼‰
- [ ] å¸¸è§é—®é¢˜è§£ç­”
- [ ] æ•…éšœæ’é™¤æŒ‡å—
- [ ] æœ€ä½³å®è·µå»ºè®®

### 3. å¼€å‘è€…æ–‡æ¡£

- [ ] æ¶æ„è®¾è®¡æ–‡æ¡£
- [ ] æ’ä»¶å¼€å‘æŒ‡å—
- [ ] è´¡çŒ®è€…æŒ‡å—

## ğŸ¨ ç”¨æˆ·ä½“éªŒæ”¹è¿›

### 1. CLIè¾“å‡ºç¾åŒ–

```python
# ä½¿ç”¨richåº“æ”¹è¿›CLIè¾“å‡º
pip install rich

# åœ¨cli.pyä¸­
from rich.console import Console
from rich.table import Table
from rich.progress import Progress

console = Console()

def status():
    table = Table(title="Agent-Handoff çŠ¶æ€")
    table.add_column("é¡¹ç›®", style="cyan")  
    table.add_column("çŠ¶æ€", style="green")
    # ...
```

### 2. é”™è¯¯æç¤ºæ”¹è¿›

```python
# æ›´å‹å¥½çš„é”™è¯¯ä¿¡æ¯
ERROR_MESSAGES = {
    "WORKFLOW_VIOLATION": {
        "message": "å·¥ä½œæµç¨‹è¿è§„",
        "suggestion": "è¯·æŒ‰ç…§ start_work â†’ plan_setup â†’ proceed â†’ end_job çš„é¡ºåºæ“ä½œ",
        "help_url": "https://docs.agent-handoff.dev/workflow"
    }
}
```

## ğŸŒ éƒ¨ç½²å’Œåˆ†å‘

### 1. PyPIå‘å¸ƒå‡†å¤‡

```bash
# æ„å»ºå’Œå‘å¸ƒ
pip install build twine
python -m build
twine upload dist/*
```

### 2. Dockeræ”¯æŒ

```dockerfile
# Dockerfile
FROM python:3.10-slim
COPY . /app
WORKDIR /app  
RUN pip install -e .
CMD ["python", "-m", "agent_handoff.server"]
```

### 3. GitHub Actions CI/CD

```yaml
# .github/workflows/test.yml
name: Test
on: [push, pull_request]
jobs:
  test:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        python-version: [3.10, 3.11, 3.12]
    steps:
      - uses: actions/checkout@v3
      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: ${{ matrix.python-version }}
      - name: Install dependencies
        run: |
          pip install -e .[dev]
      - name: Run tests
        run: |
          pytest tests/ --cov=agent_handoff
```

## ğŸ“‹ è¡ŒåŠ¨è®¡åˆ’æ£€æŸ¥æ¸…å•

### æœ¬å‘¨å¯å®Œæˆ âœ…

- [ ] è¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶
- [ ] VSCodeé›†æˆéªŒè¯  
- [ ] é”™è¯¯å¤„ç†æ”¹è¿›
- [ ] æ·»åŠ pytestæ”¯æŒ
- [ ] ä»£ç æ ¼å¼åŒ–å·¥å…·é›†æˆ

### ä¸‹å‘¨ç›®æ ‡ ğŸ“…

- [ ] è¯­ä¹‰æœç´¢åŸå‹
- [ ] CLIåŠŸèƒ½æ‰©å±•
- [ ] é…ç½®ç³»ç»Ÿå¢å¼º
- [ ] æ–‡æ¡£ç½‘ç«™æ­å»º
- [ ] ç¤¾åŒºåé¦ˆæ”¶é›†

### æœˆåº¦ç›®æ ‡ ğŸ¯

- [ ] VSCodeæ’ä»¶å¼€å‘
- [ ] PyPIæ­£å¼å‘å¸ƒ
- [ ] å›¢é˜Ÿåä½œåŠŸèƒ½
- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] å®‰å…¨å®¡è®¡

---

## ğŸ’¡ æ€»ç»“å’Œå»ºè®®

**Agent-Handoffé¡¹ç›®å·²ç»å…·å¤‡äº†å‘å¸ƒæ¡ä»¶**ï¼å‰è¾ˆçš„å·¥ä½œéå¸¸å‡ºè‰²ï¼Œä¸ºé¡¹ç›®å¥ å®šäº†åšå®çš„åŸºç¡€ã€‚

**æˆ‘çš„å»ºè®®æ˜¯**:

1. **ç«‹å³å‘å¸ƒAlphaç‰ˆæœ¬** - è®©ç”¨æˆ·å¼€å§‹æµ‹è¯•å’Œåé¦ˆ
2. **ä¸“æ³¨æ ¸å¿ƒä½“éªŒ** - ä¼˜å…ˆè§£å†³ç”¨æˆ·æœ€å…³å¿ƒçš„é—®é¢˜  
3. **æŒç»­è¿­ä»£** - æ ¹æ®åé¦ˆå¿«é€Ÿæ”¹è¿›
4. **å»ºç«‹ç¤¾åŒº** - å¸å¼•æ›´å¤šå¼€å‘è€…å‚ä¸

**é¡¹ç›®çš„æ ¸å¿ƒä»·å€¼å·²ç»å®ç°ï¼Œç°åœ¨æ˜¯æ—¶å€™è®©æ›´å¤šäººä½¿ç”¨å®ƒäº†**ï¼ğŸš€