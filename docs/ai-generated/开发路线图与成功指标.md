5. 开发路线图与安装指南
版本: v7.0.0 (最终蓝图)
状态: 定稿

5.1 用户安装与配置指南
步骤 1: 安装
采用“先 B 后 A”的发布策略：

MVP (Alpha/Beta): 用户通过 Git 直接安装。

pip install git+[https://github.com/your-repo/agent-handoff.git](https://github.com/your-repo/agent-handoff.git)

正式版 (v1.0+): 发布到 PyPI。

pip install agent-handoff

步骤 2: 初始化项目
在项目根目录下运行 CLI 工具。

agent-handoff init

步骤 3: 配置 IDE (以 VS Code 为例)
打开项目的 .vscode/settings.json (如果不存在则创建)，并添加以下配置来注册 MCP 服务器：

{
  "mcp": {
    "servers": {
      "agent-handoff": {
        // 使用标准的 Python 模块运行方式
        "command": "python",
        "args": ["-m", "agent_handoff.server"],
        // 确保在项目的工作区内启动
        "cwd": "${workspaceFolder}"
      }
    }
  }
}

保存后，重启 VS Code。Agent (如 Copilot) 将自动发现并连接到 Agent-Handoff 服务器。

5.2 开发路线图
MVP (v1.0) 核心目标: 验证基于标准 MCP 协议的“本地强制工作流”模式的有效性。

Phase 1: 最小可用原型 (2-3 天)
[ ] 搭建 MCP 服务器骨架 (Python + stdio) 及基础文件操作工具。

[ ] 实现极简的 init CLI 工具。

[ ] 实现一个简单的工作流 (start_work → end_job)。

目标: Agent 能成功连接，并完成一次文档的读写循环。

Phase 2: 完整工作流 (3-4 天)
[ ] 实现完整的内存状态机以强制工作流顺序。

[ ] 实现 plan_setup + proceed 的迭代执行逻辑。

[ ] 实现 report_issue 异常处理流程。

目标: 完整的“监工”流程可以顺畅运行。

Phase 3: 体验优化 (2-3 天)
[ ] 实现 search_files (关键词搜索)。

[ ] 优化所有工具的错误提示和引导指令。

[ ] 实现会话历史元数据的保存。

目标: 发布一个功能完备、体验良好的 Alpha 版本。

5.3 成功指标 (MVP 阶段)
核心指标
工作流完整率: 成功完成从 start_work 到 end_job 的任务会话占比 > 80%。

用户留存率 (周): > 40%。

辅助指标
社区反馈: 在 GitHub 获得积极的初步反馈和功能建议。

初始化时间: 从运行 init 到 Agent 成功调用 start_work 的平均时间 < 3 分钟。